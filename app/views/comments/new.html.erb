<% if params[:parent_id] %>
  <%= turbo_frame_tag "new_reply_#{params[:parent_id]}" do %>
    <%= form_with model: [@post, @post.comments.build], class: 'new-comment-box', data: {'controller': 'comments'} do |f|%>
      <div class='new-comment-input'>
        <%= f.text_area :body, class: 'comment-input', rows: '1', data: {'post-target': 'textAreas', 'comments-target': 'textArea', 'action': 'keydown->comments#submit'}, placeholder: 'Write a comment' %>
      </div>
      <%= f.hidden_field :user_id, value: current_user.id %>
      <%= f.hidden_field :parent_id, value: params[:parent_id] %>
      <%= button_tag class: 'new-comment-button', data: {'action': 'comments#submitAndCleanup'} do %>
        <i class="fa-solid fa-paper-plane comment-send-icon"></i>
      <% end %>
    <% end %>
  <% end %>
<% else %>
  <%= turbo_frame_tag "new_comment" do %>
    <%= form_with model: [@post, @post.comments.build], class: 'new-comment-box', data: {'controller': 'comments'} do |f|%>
      <div class='new-comment-input'>
        <%= f.text_area :body, class: 'comment-input', rows: '1', data: {'post-target': 'textAreas', 'comments-target': 'textArea', 'action': 'keydown->comments#submit'}, placeholder: 'Write a comment' %>
      </div>
      <%= f.hidden_field :user_id, value: current_user.id %>
      <%= f.hidden_field :parent_id, value: params[:parent_id] %>
      <%= button_tag class: 'new-comment-button', data: {'action': 'comments#submitAndCleanup'} do %>
        <i class="fa-solid fa-paper-plane comment-send-icon"></i>
      <% end %>
    <% end %>
  <% end %>
<% end %>
